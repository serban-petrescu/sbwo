{"version":3,"sources":["Help.controller.es6.js"],"names":["extend","onInit","buildViewModel","helps","pages","getResourceBundle","getRouter","getRoute","attachPatternMatched","onRouteMatched","onSearchMaster","oEvent","applySearchFilter","getParameter","byId","getBinding","onSelectMaster","oItem","getSource","sId","getBindingContext","getProperty","navTo","id","onGoToMaster","oList","system","phone","getItems","getView","bindElement","model","path","to","updateSelection","unbindElement","backToPage","removeSelections","fnGetId","oC","oSelection","getSelectedItem","sTarget","aItems","i","length","setSelectedItem"],"mappings":"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","file":"Help.controller.js","sourcesContent":["import Base from \"spet/sbwo/web/private/controller/Base\";\r\nimport helps from \"spet/sbwo/web/private/model/helps\";\r\nimport Device from \"sap/ui/Device\";\r\n\r\nexport default Base.extend(\"spet.sbwo.web.private.controller.misc.Help\", {\r\n    onInit() {\r\n        this.buildViewModel({\r\n            helps: helps.pages(this.getResourceBundle())\r\n        });\r\n        this.getRouter().getRoute(\"help\").attachPatternMatched(this.onRouteMatched, this);\r\n    },\r\n\r\n    onSearchMaster(oEvent) {\r\n        this.applySearchFilter(oEvent.getParameter(\"query\"), \"title\", this.byId(\"lstTopics\").getBinding(\"items\"));\r\n    },\r\n\r\n    onSelectMaster(oEvent) {\r\n        var oItem = oEvent.getParameter(\"listItem\") || oEvent.getSource(),\r\n            sId = oItem.getBindingContext(\"view\").getProperty(\"id\");\r\n        this.getRouter().navTo(\"help\", {\r\n            id: sId\r\n        }, true);\r\n    },\r\n\r\n    onGoToMaster() {\r\n        this.getRouter().navTo(\"help\", {}, true);\r\n    },\r\n\r\n    onRouteMatched(oEvent) {\r\n        var sId = oEvent.getParameter(\"arguments\").id,\r\n            oList = this.byId(\"lstTopics\");\r\n        if (!sId && !Device.system.phone) {\r\n            sId = oList.getItems()[0].getBindingContext(\"view\").getProperty(\"id\");\r\n            this.getRouter().navTo(\"help\", {\r\n                id: sId\r\n            }, true);\r\n        } else if (sId) {\r\n            this.getView().bindElement({\r\n                model: \"view\",\r\n                path: \"/helps/\" + sId\r\n            });\r\n            this.byId(\"spcMain\").to(this.byId(\"pagDetail\"));\r\n            this.updateSelection();\r\n        } else {\r\n            this.getView().unbindElement(\"view\");\r\n            this.byId(\"spcMain\").backToPage(this.byId(\"pagMaster\"));\r\n            oList.removeSelections(true);\r\n        }\r\n    },\r\n\r\n    updateSelection() {\r\n        if (Device.system.phone) {\r\n            return;\r\n        }\r\n\r\n        var oList = this.byId(\"lstTopics\"),\r\n            fnGetId = oC => oC.getBindingContext(\"view\").getProperty(\"id\"),\r\n            oSelection = oList.getSelectedItem(),\r\n            sTarget = fnGetId(this.getView()),\r\n            aItems,\r\n            i;\r\n\r\n        if (!oSelection || fnGetId(oSelection) !== sTarget) {\r\n            aItems = oList.getItems();\r\n            for (i = 0; i < aItems.length; ++i) {\r\n                if (fnGetId(aItems[i]) === sTarget) {\r\n                    oList.setSelectedItem(aItems[i]);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n"]}