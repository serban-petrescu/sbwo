{"version":3,"sources":["PersonEdit.es6.js"],"names":["extend","onAddPersonEmail","oEvent","onAddCollection","name","email","primary","isCollectionEmpty","onDeletePersonLastEmail","onDeleteCollectionLastItem","onAddPersonPhone","telephone","onDeletePersonLastPhone","onAddPersonBankAccount","bank","accountNumber","onDeletePersonLastBankAccount","onPrimaryFlagChanged","oControl","getSource","oModel","getBindingContext","getModel","sBasePath","getPath","sPath","substring","lastIndexOf","iIndex","parseInt","iLength","getProperty","i","setProperty","onValueChanged"],"mappings":";;;;;;;;;;;;;;;;;;sBAGe,oBAAOA,MAAP,CAAc,EAAd,sBAA4B;AACvCC,wBADuC,4BACtBC,MADsB,EACd;AACrB,iBAAKC,eAAL,CAAqBD,MAArB,EAA6B,gBAA7B,EAA+C;AAC3CE,sBAAM,EADqC;AAE3CC,uBAAO,EAFoC;AAG3CC,yBAAS,KAAKC,iBAAL,CAAuBL,MAAvB,EAA+B,gBAA/B;AAHkC,aAA/C;AAKH,SAPsC;AASvCM,+BATuC,mCASfN,MATe,EASP;AAC5B,iBAAKO,0BAAL,CAAgCP,MAAhC,EAAwC,gBAAxC;AACH,SAXsC;AAavCQ,wBAbuC,4BAatBR,MAbsB,EAad;AACrB,iBAAKC,eAAL,CAAqBD,MAArB,EAA6B,YAA7B,EAA2C;AACvCE,sBAAM,EADiC;AAEvCO,2BAAW,EAF4B;AAGvCL,yBAAS,KAAKC,iBAAL,CAAuBL,MAAvB,EAA+B,YAA/B;AAH8B,aAA3C;AAKH,SAnBsC;AAqBvCU,+BArBuC,mCAqBfV,MArBe,EAqBP;AAC5B,iBAAKO,0BAAL,CAAgCP,MAAhC,EAAwC,YAAxC;AACH,SAvBsC;AAyBvCW,8BAzBuC,kCAyBhBX,MAzBgB,EAyBR;AAC3B,iBAAKC,eAAL,CAAqBD,MAArB,EAA6B,cAA7B,EAA6C;AACzCY,sBAAM,EADmC;AAEzCC,+BAAe,EAF0B;AAGzCT,yBAAS,KAAKC,iBAAL,CAAuBL,MAAvB,EAA+B,cAA/B;AAHgC,aAA7C;AAKH,SA/BsC;AAiCvCc,qCAjCuC,yCAiCTd,MAjCS,EAiCD;AAClC,iBAAKO,0BAAL,CAAgCP,MAAhC,EAAwC,cAAxC;AACH,SAnCsC;AAqCvCe,4BArCuC,gCAqClBf,MArCkB,EAqCV;AACzB,gBAAIgB,WAAWhB,OAAOiB,SAAP,EAAf;AAAA,gBACIC,SAASF,SAASG,iBAAT,CAA2B,MAA3B,EAAmCC,QAAnC,EADb;AAAA,gBAEIC,YAAYL,SAASG,iBAAT,CAA2B,MAA3B,EAAmCG,OAAnC,EAFhB;AAAA,gBAGIC,QAAQF,UAAUG,SAAV,CAAoB,CAApB,EAAuBH,UAAUI,WAAV,CAAsB,GAAtB,IAA6B,CAApD,CAHZ;AAAA,gBAIIC,SAASC,SAASN,UAAUG,SAAV,CAAoBH,UAAUI,WAAV,CAAsB,GAAtB,IAA6B,CAAjD,CAAT,EAA8D,EAA9D,CAJb;AAAA,gBAKIG,UAAUV,OAAOW,WAAP,CAAmBN,QAAQ,QAA3B,KAAwC,CALtD;;AAOA,iBAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIF,OAApB,EAA6B,EAAEE,CAA/B,EAAkC;AAC9B,oBAAIA,MAAMJ,MAAV,EAAkB;AACdR,2BAAOa,WAAP,CAAmBR,QAAQO,CAAR,GAAY,UAA/B,EAA2C,KAA3C;AACH;AACJ;;AAED,iBAAKE,cAAL,CAAoBhC,MAApB;AACH;AApDsC,KAA5B,C","file":"PersonEdit.js","sourcesContent":["import BaseEdit from \"./BaseEdit\";\r\nimport jQuery from \"jquery.sap.global\";\r\n\r\nexport default jQuery.extend({}, BaseEdit, {\r\n    onAddPersonEmail(oEvent) {\r\n        this.onAddCollection(oEvent, \"emailAddresses\", {\r\n            name: \"\",\r\n            email: \"\",\r\n            primary: this.isCollectionEmpty(oEvent, \"emailAddresses\")\r\n        });\r\n    },\r\n\r\n    onDeletePersonLastEmail(oEvent) {\r\n        this.onDeleteCollectionLastItem(oEvent, \"emailAddresses\");\r\n    },\r\n\r\n    onAddPersonPhone(oEvent) {\r\n        this.onAddCollection(oEvent, \"telephones\", {\r\n            name: \"\",\r\n            telephone: \"\",\r\n            primary: this.isCollectionEmpty(oEvent, \"telephones\")\r\n        });\r\n    },\r\n\r\n    onDeletePersonLastPhone(oEvent) {\r\n        this.onDeleteCollectionLastItem(oEvent, \"telephones\");\r\n    },\r\n\r\n    onAddPersonBankAccount(oEvent) {\r\n        this.onAddCollection(oEvent, \"bankAccounts\", {\r\n            bank: \"\",\r\n            accountNumber: \"\",\r\n            primary: this.isCollectionEmpty(oEvent, \"bankAccounts\")\r\n        });\r\n    },\r\n\r\n    onDeletePersonLastBankAccount(oEvent) {\r\n        this.onDeleteCollectionLastItem(oEvent, \"bankAccounts\");\r\n    },\r\n\r\n    onPrimaryFlagChanged(oEvent) {\r\n        let oControl = oEvent.getSource(),\r\n            oModel = oControl.getBindingContext(\"data\").getModel(),\r\n            sBasePath = oControl.getBindingContext(\"data\").getPath(),\r\n            sPath = sBasePath.substring(0, sBasePath.lastIndexOf(\"/\") + 1),\r\n            iIndex = parseInt(sBasePath.substring(sBasePath.lastIndexOf(\"/\") + 1), 10),\r\n            iLength = oModel.getProperty(sPath + \"length\") || 0;\r\n\r\n        for (let i = 0; i < iLength; ++i) {\r\n            if (i !== iIndex) {\r\n                oModel.setProperty(sPath + i + \"/primary\", false);\r\n            }\r\n        }\r\n\r\n        this.onValueChanged(oEvent);\r\n    }\r\n});\r\n"]}