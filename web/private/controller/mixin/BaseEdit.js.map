{"version":3,"sources":["BaseEdit.es6.js"],"names":["isCollectionEmpty","oEvent","sCollection","oControl","getSource","oModel","getBindingContext","getModel","sBasePath","getPath","sPath","slice","substring","lastIndexOf","aArray","getProperty","length","onAddCollection","oData","push","setProperty","onValueChanged","onDeleteCollectionLastItem","splice","onDeleteCollection","oItem","getParameter","iIndex","parseInt"],"mappings":"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","file":"BaseEdit.js","sourcesContent":["export default {\r\n    isCollectionEmpty(oEvent, sCollection) {\r\n        var oControl = oEvent.getSource(),\r\n            oModel = oControl.getBindingContext(\"data\").getModel(),\r\n            sBasePath = oControl.getBindingContext(\"data\").getPath() || \"\",\r\n            sPath = sCollection ?\r\n            (sBasePath.slice(-1) === \"/\" ? sBasePath + sCollection : sBasePath + \"/\" + sCollection) :\r\n            (sBasePath.substring(0, sBasePath.lastIndexOf(\"/\"))),\r\n            aArray = oModel.getProperty(sPath) || [];\r\n        return aArray.length === 0;\r\n    },\r\n\r\n    onAddCollection(oEvent, sCollection, oData) {\r\n        var oControl = oEvent.getSource(),\r\n            oModel = oControl.getBindingContext(\"data\").getModel(),\r\n            sBasePath = oControl.getBindingContext(\"data\").getPath() || \"\",\r\n            sPath = sBasePath.slice(-1) === \"/\" ? sBasePath + sCollection : sBasePath + \"/\" + sCollection,\r\n            aArray = oModel.getProperty(sPath) || [];\r\n        aArray.push(oData);\r\n        oModel.setProperty(sPath, aArray);\r\n        if (this.onValueChanged) {\r\n            this.onValueChanged();\r\n        }\r\n    },\r\n\r\n    onDeleteCollectionLastItem(oEvent, sCollection) {\r\n        var oControl = oEvent.getSource(),\r\n            oModel = oControl.getBindingContext(\"data\").getModel(),\r\n            sBasePath = oControl.getBindingContext(\"data\").getPath() || \"\",\r\n            sPath = sBasePath.slice(-1) === \"/\" ? sBasePath + sCollection : sBasePath + \"/\" + sCollection,\r\n            aArray = oModel.getProperty(sPath);\r\n        if (aArray.length) {\r\n            aArray.splice(aArray.length - 1, 1);\r\n            oModel.setProperty(sPath, aArray);\r\n            if (this.onValueChanged) {\r\n                this.onValueChanged();\r\n            }\r\n        }\r\n    },\r\n\r\n    onDeleteCollection(oEvent) {\r\n        var oItem = oEvent.getParameter(\"listItem\"),\r\n            oModel = oItem.getBindingContext(\"data\").getModel(),\r\n            sBasePath = oItem.getBindingContext(\"data\").getPath() || \"\",\r\n            sPath = sBasePath.substring(0, sBasePath.lastIndexOf(\"/\")),\r\n            iIndex = parseInt(sBasePath.substring(sBasePath.lastIndexOf(\"/\") + 1), 10),\r\n            aArray = oModel.getProperty(sPath);\r\n        aArray.splice(iIndex, 1);\r\n        oModel.setProperty(sPath, aArray);\r\n        if (this.onValueChanged) {\r\n            this.onValueChanged();\r\n        }\r\n    }\r\n};\r\n"]}