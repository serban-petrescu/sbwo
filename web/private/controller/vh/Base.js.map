{"version":3,"sources":["Base.es6.js"],"names":["extend","_callback","getDialog","byId","getList","getSearchAttribute","getSearchField","onInit","addStyleClass","getOwnerComponent","getContentDensityClass","search","oEvent","getParameter","refresh","sAttribute","oBinding","getBinding","fnMap","Contains","sPart","toUpperCase","aFilters","split","map","length","filter","filters","and","open","fnCallback","oListener","bind","setValue","close","select","getSource","getBindingContext","getObject"],"mappings":";;;;;;;;;;;;;;;;;;;;sBAIe,qBAAWA,MAAX,CAAkB,0CAAlB,EAA8D;AACzEC,mBAAW,IAD8D;;AAGzEC,iBAHyE,uBAG7D;AACR,mBAAO,KAAKC,IAAL,CAAU,SAAV,CAAP;AACH,SALwE;AAOzEC,eAPyE,qBAO/D;AACN,mBAAO,KAAKD,IAAL,CAAU,SAAV,CAAP;AACH,SATwE;AAWzEE,0BAXyE,gCAWpD;AACjB,mBAAO,QAAP;AACH,SAbwE;AAezEC,sBAfyE,4BAexD;AACb,mBAAO,KAAKH,IAAL,CAAU,SAAV,CAAP;AACH,SAjBwE;AAmBzEI,cAnByE,oBAmBhE;AACL,iBAAKL,SAAL,GAAiBM,aAAjB,CAA+B,KAAKC,iBAAL,GAAyBC,sBAAzB,EAA/B;AACH,SArBwE;AAuBzEC,cAvByE,kBAuBlEC,MAvBkE,EAuB1D;AACX,gBAAIA,OAAOC,YAAP,CAAoB,sBAApB,CAAJ,EAAiD;AAC7C,qBAAKC,OAAL;AACH,aAFD,MAEO;AACH,oBAAIC,aAAa,KAAKV,kBAAL,EAAjB;AAAA,oBACIW,WAAW,KAAKZ,OAAL,GAAea,UAAf,CAA0B,OAA1B,CADf;AAAA,oBAEIC,QAAQ,SAARA,KAAQ;AAAA,2BAAS,qBAAWH,UAAX,EAAuB,yBAAeI,QAAtC,EAAgD,CAACC,SAAS,EAAV,EAAcC,WAAd,EAAhD,CAAT;AAAA,iBAFZ;AAAA,oBAGIC,WAAWV,OAAOC,YAAP,CAAoB,OAApB,EAA6BU,KAA7B,CAAmC,GAAnC,EAAwCC,GAAxC,CAA4CN,KAA5C,CAHf;AAIA,oBAAII,SAASG,MAAb,EAAqB;AACjBT,6BAASU,MAAT,CAAgB,qBAAW;AACvBC,iCAASL,QADc;AAEvBM,6BAAK;AAFkB,qBAAX,CAAhB;AAIH,iBALD,MAKO;AACHZ,6BAASU,MAAT,CAAgBJ,QAAhB;AACH;AACJ;AACJ,SAxCwE;AA0CzEO,YA1CyE,gBA0CpEC,UA1CoE,EA0CxDC,SA1CwD,EA0C7C;AACxB,iBAAK9B,SAAL,GAAiB6B,cAAcC,SAAd,GAA0BD,WAAWE,IAAX,CAAgBD,SAAhB,CAA1B,GAAuDD,UAAxE;AACA,iBAAKxB,cAAL,GAAsB2B,QAAtB,CAA+B,EAA/B;AACA,iBAAK7B,OAAL,GAAea,UAAf,CAA0B,OAA1B,EAAmCS,MAAnC,CAA0C,EAA1C;AACA,iBAAKxB,SAAL,GAAiB2B,IAAjB;AACH,SA/CwE;AAiDzEK,aAjDyE,mBAiDjE;AACJ,iBAAKhC,SAAL,GAAiBgC,KAAjB;AACA,gBAAI,KAAKjC,SAAT,EAAoB;AAChB,qBAAKA,SAAL;AACA,qBAAKA,SAAL,GAAiB,IAAjB;AACH;AACJ,SAvDwE;AAyDzEkC,cAzDyE,kBAyDlEvB,MAzDkE,EAyD1D;AACX,iBAAKV,SAAL,GAAiBgC,KAAjB;AACA,gBAAI,KAAKjC,SAAT,EAAoB;AAChB,qBAAKA,SAAL,CAAeW,OAAOwB,SAAP,GAAmBC,iBAAnB,GAAuCC,SAAvC,EAAf;AACA,qBAAKrC,SAAL,GAAiB,IAAjB;AACH;AACJ,SA/DwE;AAiEzEa,eAjEyE,qBAiE/D;AACN,iBAAKV,OAAL,GAAea,UAAf,CAA0B,OAA1B,EAAmCH,OAAnC;AACH;AAnEwE,KAA9D,C","file":"Base.js","sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\r\nimport Filter from \"sap/ui/model/Filter\";\r\nimport FilterOperator from \"sap/ui/model/FilterOperator\";\r\n\r\nexport default Controller.extend(\"spet.sbwo.web.private.controller.vh.Base\", {\r\n    _callback: null,\r\n\r\n    getDialog() {\r\n        return this.byId(\"dlgMain\");\r\n    },\r\n\r\n    getList() {\r\n        return this.byId(\"lstMain\");\r\n    },\r\n\r\n    getSearchAttribute() {\r\n        return \"Search\";\r\n    },\r\n\r\n    getSearchField() {\r\n        return this.byId(\"seaMain\");\r\n    },\r\n\r\n    onInit() {\r\n        this.getDialog().addStyleClass(this.getOwnerComponent().getContentDensityClass());\r\n    },\r\n\r\n    search(oEvent) {\r\n        if (oEvent.getParameter(\"refreshButtonPressed\")) {\r\n            this.refresh();\r\n        } else {\r\n            let sAttribute = this.getSearchAttribute(),\r\n                oBinding = this.getList().getBinding(\"items\"),\r\n                fnMap = sPart => new Filter(sAttribute, FilterOperator.Contains, (sPart || \"\").toUpperCase()),\r\n                aFilters = oEvent.getParameter(\"query\").split(\" \").map(fnMap);\r\n            if (aFilters.length) {\r\n                oBinding.filter(new Filter({\r\n                    filters: aFilters,\r\n                    and: true\r\n                }));\r\n            } else {\r\n                oBinding.filter(aFilters);\r\n            }\r\n        }\r\n    },\r\n\r\n    open(fnCallback, oListener) {\r\n        this._callback = fnCallback && oListener ? fnCallback.bind(oListener) : fnCallback;\r\n        this.getSearchField().setValue(\"\");\r\n        this.getList().getBinding(\"items\").filter([]);\r\n        this.getDialog().open();\r\n    },\r\n\r\n    close() {\r\n        this.getDialog().close();\r\n        if (this._callback) {\r\n            this._callback();\r\n            this._callback = null;\r\n        }\r\n    },\r\n\r\n    select(oEvent) {\r\n        this.getDialog().close();\r\n        if (this._callback) {\r\n            this._callback(oEvent.getSource().getBindingContext().getObject());\r\n            this._callback = null;\r\n        }\r\n    },\r\n\r\n    refresh() {\r\n        this.getList().getBinding(\"items\").refresh();\r\n    }\r\n});\r\n"]}