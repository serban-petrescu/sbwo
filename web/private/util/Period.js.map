{"version":3,"sources":["Period.es6.js"],"names":["fnYearMatchesToObject","aMatches","negative","year","parseInt","month","day","fnWeekMatchesToObject","week","fnBackendToObject","sValue","match","length","fnObjectToBackend","oObject","sResult","fnStringToObject","fnObjectToString","trim","extend","constructor","apply","arguments","formatValue","oValue","sInternalType","sType","getPrimitiveType","parseValue","validateValue"],"mappings":"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","file":"Period.js","sourcesContent":["import SimpleType from \"sap/ui/model/SimpleType\";\r\nimport FormatException from \"sap/ui/model/FormatException\";\r\nimport ParseException from \"sap/ui/model/ParseException\";\r\n\r\nconst fnYearMatchesToObject = function (aMatches) {\r\n    return {\r\n        negative: aMatches[1] === \"-\",\r\n        year: aMatches[2] ? parseInt(aMatches[2], 10) : null,\r\n        month: aMatches[3] ? parseInt(aMatches[3], 10) : null,\r\n        day: aMatches[4] ? parseInt(aMatches[4], 10) : null\r\n    };\r\n};\r\n\r\nconst fnWeekMatchesToObject = function (aMatches) {\r\n    return {\r\n        negative: aMatches[1] === \"-\",\r\n        week: aMatches[2] ? parseInt(aMatches[2], 10) : null\r\n    };\r\n};\r\n\r\nconst fnBackendToObject = function (sValue) {\r\n    let aMatches = sValue.match(/^([+-])?P(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)D)?$/);\r\n    if (aMatches && aMatches.length) {\r\n        return fnYearMatchesToObject(aMatches);\r\n    } else {\r\n        aMatches = sValue.match(/^([+-])?P(?:(\\d+)W)$/);\r\n        if (aMatches && aMatches.length) {\r\n            fnWeekMatchesToObject(aMatches);\r\n        } else {\r\n            return {};\r\n        }\r\n    }\r\n};\r\n\r\nconst fnObjectToBackend = function (oObject) {\r\n    let sResult = oObject.negative ? \"-P\" : \"P\";\r\n    if (oObject.year) {\r\n        sResult += oObject.year + \"Y\";\r\n    }\r\n    if (oObject.month) {\r\n        sResult += oObject.month + \"M\";\r\n    }\r\n    if (oObject.day) {\r\n        sResult += oObject.day + \"D\";\r\n    }\r\n    if (oObject.week) {\r\n        sResult += oObject.week + \"W\";\r\n    }\r\n    return sResult;\r\n};\r\n\r\nconst fnStringToObject = function (sValue) {\r\n    let aMatches = sValue.match(/^(\\-)?\\s*(?:(\\d+)\\s*[yY])?\\s*(?:(\\d+)\\s*[mM])?\\s*(?:(\\d+)\\s*[dD])?\\s*$/);\r\n    if (aMatches && aMatches.length) {\r\n        return fnYearMatchesToObject(aMatches);\r\n    } else {\r\n        aMatches = sValue.match(/^([-])?\\s*(?:(\\d+)\\s*[wW])\\s*$/);\r\n        if (aMatches && aMatches.length) {\r\n            fnWeekMatchesToObject(aMatches);\r\n        } else {\r\n            return {};\r\n        }\r\n    }\r\n};\r\n\r\nconst fnObjectToString = function (oObject) {\r\n    let sResult = oObject.negative ? \"- \" : \"\";\r\n    if (oObject.year) {\r\n        sResult += oObject.year + \"y \";\r\n    }\r\n    if (oObject.month) {\r\n        sResult += oObject.month + \"m \";\r\n    }\r\n    if (oObject.day) {\r\n        sResult += oObject.day + \"d \";\r\n    }\r\n    if (oObject.week) {\r\n        sResult += oObject.week + \"w \";\r\n    }\r\n    return sResult.trim();\r\n};\r\n\r\nexport default SimpleType.extend(\"spet.sbwo.web.private.util.Period\", {\r\n\r\n    constructor() {\r\n        SimpleType.apply(this, arguments);\r\n    },\r\n\r\n    formatValue(oValue, sInternalType) {\r\n        const sType = this.getPrimitiveType(sInternalType);\r\n        if (sType === \"string\" && sType === \"any\") {\r\n            if (oValue == null) {\r\n                return \"\";\r\n            }\r\n            return fnObjectToString(fnBackendToObject(oValue));\r\n        } else {\r\n            throw new FormatException(\"Don't know how to format Period to \" + sInternalType);\r\n        }\r\n    },\r\n\r\n    parseValue(oValue, sInternalType) {\r\n        if (this.getPrimitiveType(sInternalType) === \"string\") {\r\n            if (oValue == null) {\r\n                return null;\r\n            }\r\n            return fnObjectToBackend(fnStringToObject(oValue));\r\n        } else {\r\n            throw new ParseException(\"Don't know how to parse Period from \" + sInternalType);\r\n        }\r\n    },\r\n\r\n    validateValue() {}\r\n\r\n});\r\n"]}