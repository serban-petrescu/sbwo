{"version":3,"sources":["DraftService.es6.js"],"names":["oLocal","bStorage","oExport","isSupported","e","load","sKey","oDeferred","Deferred","oResult","JSON","parse","get","resolve","promise","save","oData","put","stringify","remove"],"mappings":";;;;;;;;;;;;;;;;;;AAGA,QAAIA,eAAJ;AAAA,QACIC,iBADJ;AAAA,QAEIC,gBAFJ;;AAIA,QAAI;AACAF,iBAAS,yBAAQ,OAAR,EAAiB,OAAjB,CAAT;AACAC,mBAAWD,OAAOG,WAAP,EAAX;AACH,KAHD,CAGE,OAAOC,CAAP,EAAU;AACRH,mBAAW,KAAX;AACH;;AAED,QAAIA,QAAJ,EAAc;AACVC,kBAAU;AACNG,gBADM,gBACDC,IADC,EACK;AACP,oBAAIC,YAAY,oBAAOC,QAAP,EAAhB;AAAA,oBACIC,OADJ;AAEA,oBAAI;AACAA,8BAAUC,KAAKC,KAAL,CAAWX,OAAOY,GAAP,CAAWN,IAAX,CAAX,KAAgC,IAA1C;AACH,iBAFD,CAEE,OAAOF,CAAP,EAAU;AACRK,8BAAU,IAAV;AACH;AACDF,0BAAUM,OAAV,CAAkBJ,OAAlB;AACA,uBAAOF,UAAUO,OAAV,EAAP;AACH,aAXK;AAaNC,gBAbM,gBAaDT,IAbC,EAaKU,KAbL,EAaY;AACd,oBAAIT,YAAY,oBAAOC,QAAP,EAAhB;AAAA,oBACIC,OADJ;AAEA,oBAAI;AACAA,8BAAUT,OAAOiB,GAAP,CAAWX,IAAX,EAAiBI,KAAKQ,SAAL,CAAeF,KAAf,CAAjB,CAAV;AACH,iBAFD,CAEE,OAAOZ,CAAP,EAAU;AACRK,8BAAU,KAAV;AACH;AACDF,0BAAUM,OAAV,CAAkBJ,OAAlB;AACA,uBAAOF,UAAUO,OAAV,EAAP;AACH,aAvBK;AAyBNK,kBAzBM,kBAyBCb,IAzBD,EAyBO;AACT,oBAAIC,YAAY,oBAAOC,QAAP,EAAhB;AAAA,oBACIC,OADJ;AAEA,oBAAI;AACAA,8BAAUT,OAAOmB,MAAP,CAAcb,IAAd,CAAV;AACH,iBAFD,CAEE,OAAOF,CAAP,EAAU;AACRK,8BAAU,KAAV;AACH;AACDF,0BAAUM,OAAV,CAAkBJ,OAAlB;AACA,uBAAOF,UAAUO,OAAV,EAAP;AACH;AAnCK,SAAV;AAqCH,KAtCD,MAsCO;AACHZ,kBAAU;AACNG,gBADM,kBACC;AACH,oBAAIE,YAAY,oBAAOC,QAAP,EAAhB;AACAD,0BAAUM,OAAV,CAAkB,IAAlB;AACA,uBAAON,UAAUO,OAAV,EAAP;AACH,aALK;AAONC,gBAPM,kBAOC;AACH,oBAAIR,YAAY,oBAAOC,QAAP,EAAhB;AACAD,0BAAUM,OAAV,CAAkB,IAAlB;AACA,uBAAON,UAAUO,OAAV,EAAP;AACH,aAXK;AAaNK,kBAbM,oBAaG;AACL,oBAAIZ,YAAY,oBAAOC,QAAP,EAAhB;AACAD,0BAAUM,OAAV,CAAkB,IAAlB;AACA,uBAAON,UAAUO,OAAV,EAAP;AACH;AAjBK,SAAV;AAmBH;;sBAEcZ,O","file":"DraftService.js","sourcesContent":["import storage from \"jquery.sap.storage\";\r\nimport jQuery from \"jquery.sap.global\";\r\n\r\nlet oLocal,\r\n    bStorage,\r\n    oExport;\r\n\r\ntry {\r\n    oLocal = storage(\"local\", \"draft\");\r\n    bStorage = oLocal.isSupported();\r\n} catch (e) {\r\n    bStorage = false;\r\n}\r\n\r\nif (bStorage) {\r\n    oExport = {\r\n        load(sKey) {\r\n            var oDeferred = jQuery.Deferred(),\r\n                oResult;\r\n            try {\r\n                oResult = JSON.parse(oLocal.get(sKey)) || null;\r\n            } catch (e) {\r\n                oResult = null;\r\n            }\r\n            oDeferred.resolve(oResult);\r\n            return oDeferred.promise();\r\n        },\r\n\r\n        save(sKey, oData) {\r\n            var oDeferred = jQuery.Deferred(),\r\n                oResult;\r\n            try {\r\n                oResult = oLocal.put(sKey, JSON.stringify(oData));\r\n            } catch (e) {\r\n                oResult = false;\r\n            }\r\n            oDeferred.resolve(oResult);\r\n            return oDeferred.promise();\r\n        },\r\n\r\n        remove(sKey) {\r\n            var oDeferred = jQuery.Deferred(),\r\n                oResult;\r\n            try {\r\n                oResult = oLocal.remove(sKey);\r\n            } catch (e) {\r\n                oResult = false;\r\n            }\r\n            oDeferred.resolve(oResult);\r\n            return oDeferred.promise();\r\n        }\r\n    };\r\n} else {\r\n    oExport = {\r\n        load() {\r\n            var oDeferred = jQuery.Deferred();\r\n            oDeferred.resolve(null);\r\n            return oDeferred.promise();\r\n        },\r\n\r\n        save() {\r\n            var oDeferred = jQuery.Deferred();\r\n            oDeferred.resolve(true);\r\n            return oDeferred.promise();\r\n        },\r\n\r\n        remove() {\r\n            var oDeferred = jQuery.Deferred();\r\n            oDeferred.resolve(true);\r\n            return oDeferred.promise();\r\n        }\r\n    };\r\n}\r\n\r\nexport default oExport;\r\n"]}